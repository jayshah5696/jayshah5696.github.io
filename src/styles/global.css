@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════
   KOLAM & RANGOLI DESIGN SYSTEM
   Light = Kolam: geometric, line art, cream paper
   Dark  = Rangoli: vibrant, colorful, deep night
   ═══════════════════════════════════════════════ */

@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
  }

  body {
    @apply font-body text-ink;
    background-color: #fdf9f1;
  }
  .dark body {
    @apply text-silk;
    background-color: #15111e;
  }

  /* ── INLINE CODE ── */
  :not(pre) > code {
    @apply px-1.5 py-0.5 rounded text-sm font-mono;
    background: #f5edd8;
    color: #a34e2d;
    border: 1px solid #e8dbc0;
  }
  .dark :not(pre) > code {
    background: #2a2438;
    color: #e07a4f;
    border-color: #3a3348;
  }
  :not(pre) > code::before,
  :not(pre) > code::after { content: '' !important; }

  /* ── CODE BLOCKS ── */
  pre {
    @apply rounded-lg !important;
    border: 1px solid #e8dbc0 !important;
    border-top: 3px solid #c4623a !important;
  }
  .dark pre {
    border-color: #2a2438 !important;
    border-top-color: #e07a4f !important;
  }

  /* ── PROSE ── */
  .prose a {
    @apply text-terra underline-offset-2 transition-colors duration-200;
    text-decoration-color: rgba(196,98,58,0.3);
  }
  .prose a:hover { @apply text-terra-dark; text-decoration-color: rgba(196,98,58,0.8); }
  .dark .prose a { @apply text-terra-light; text-decoration-color: rgba(224,122,79,0.3); }
  .dark .prose a:hover { text-decoration-color: rgba(224,122,79,0.8); }

  .prose img {
    @apply rounded-lg mx-auto;
    box-shadow: 0 4px 24px rgba(44,36,22,0.1);
  }
  .dark .prose img { box-shadow: 0 4px 24px rgba(0,0,0,0.4); }

  .prose blockquote {
    @apply not-italic font-normal;
    border-left: 4px solid #c4623a;
    background: rgba(245,237,216,0.5);
    color: #5a4e3a;
    padding: 1rem 1.25rem;
    border-radius: 0 8px 8px 0;
  }
  .dark .prose blockquote {
    background: rgba(42,36,56,0.5);
    border-left-color: #e07a4f;
    color: #a89e8e;
  }

  .prose h2, .prose h3, .prose h4 { @apply font-display; }

  /* Legacy spans */
  .prose span[style*='color: magenta'] { color: #c4623a !important; @apply font-medium; }
  .dark .prose span[style*='color: magenta'] { color: #e07a4f !important; }
  span[style*='color:#1abc9c'], span[style*='color:Blue'], span[style*='color: Blue'] { color: #c4623a !important; }
  .dark span[style*='color:#1abc9c'], .dark span[style*='color:Blue'], .dark span[style*='color: Blue'] { color: #e07a4f !important; }

  /* Scrollbar */
  ::-webkit-scrollbar { @apply w-1.5; }
  ::-webkit-scrollbar-track { background: #f5edd8; }
  .dark ::-webkit-scrollbar-track { background: #1e1928; }
  ::-webkit-scrollbar-thumb { background: #d4c4a0; border-radius: 999px; }
  .dark ::-webkit-scrollbar-thumb { background: #3a3348; }
  ::-webkit-scrollbar-thumb:hover { background: #c4623a; }

  /* Selection */
  ::selection { background: #d4a843; color: #1a1408; }
  .dark ::selection { background: #b08a2e; color: #fefdfb; }
}

@layer components {

  /* ═══════════════════════════════════════
     KOLAM BORDER — SVG interlocking loops
     Real geometric pattern, not text chars
     ═══════════════════════════════════════ */
  .kolam-border {
    height: 32px;
    background-image: url("data:image/svg+xml,%3Csvg width='80' height='32' viewBox='0 0 80 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 16 C20 8, 28 0, 40 0 C52 0, 60 8, 60 16 C60 24, 52 32, 40 32 C28 32, 20 24, 20 16Z' fill='none' stroke='%23c4623a' stroke-width='1.2' opacity='0.4'/%3E%3Ccircle cx='40' cy='0' r='2' fill='%23d4a843' opacity='0.5'/%3E%3Ccircle cx='40' cy='32' r='2' fill='%23d4a843' opacity='0.5'/%3E%3Ccircle cx='20' cy='16' r='1.5' fill='%23c4623a' opacity='0.4'/%3E%3Ccircle cx='60' cy='16' r='1.5' fill='%23c4623a' opacity='0.4'/%3E%3C/svg%3E");
    background-repeat: repeat-x;
    background-position: center;
  }
  .dark .kolam-border {
    background-image: url("data:image/svg+xml,%3Csvg width='80' height='32' viewBox='0 0 80 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 16 C20 8, 28 0, 40 0 C52 0, 60 8, 60 16 C60 24, 52 32, 40 32 C28 32, 20 24, 20 16Z' fill='none' stroke='%23e07a4f' stroke-width='1.2' opacity='0.35'/%3E%3Ccircle cx='40' cy='0' r='2' fill='%23e8c462' opacity='0.4'/%3E%3Ccircle cx='40' cy='32' r='2' fill='%23e8c462' opacity='0.4'/%3E%3Ccircle cx='20' cy='16' r='1.5' fill='%23e07a4f' opacity='0.35'/%3E%3Ccircle cx='60' cy='16' r='1.5' fill='%23e07a4f' opacity='0.35'/%3E%3C/svg%3E");
  }

  /* ═══════════════════════════════════════
     KOLAM DOT GRID — sidebar background
     Larger, more visible dots + connecting lines
     ═══════════════════════════════════════ */
  .kolam-dots {
    background-image:
      radial-gradient(circle, #c4623a 1.2px, transparent 1.2px),
      linear-gradient(to right, rgba(196,98,58,0.06) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(196,98,58,0.06) 1px, transparent 1px);
    background-size: 24px 24px;
    opacity: 0.25;
  }
  .dark .kolam-dots {
    background-image:
      radial-gradient(circle, #e07a4f 1.2px, transparent 1.2px),
      linear-gradient(to right, rgba(224,122,79,0.04) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(224,122,79,0.04) 1px, transparent 1px);
    background-size: 24px 24px;
    opacity: 0.2;
  }

  /* ═══════════════════════════════════════
     RANGOLI CORNER — SVG petal/lotus motif
     Used on featured card corners
     ═══════════════════════════════════════ */
  .rangoli-corners {
    position: relative;
  }
  .rangoli-corners::before,
  .rangoli-corners::after {
    content: '';
    position: absolute;
    width: 48px;
    height: 48px;
    background-image: url("data:image/svg+xml,%3Csvg width='48' height='48' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 C0 0, 24 4, 24 24' fill='none' stroke='%23c4623a' stroke-width='1' opacity='0.3'/%3E%3Cpath d='M0 0 C4 0, 4 24, 24 24' fill='none' stroke='%23d4a843' stroke-width='1' opacity='0.25'/%3E%3Ccircle cx='4' cy='4' r='2.5' fill='%23c4623a' opacity='0.35'/%3E%3Ccircle cx='12' cy='12' r='1.5' fill='%23d4a843' opacity='0.3'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    pointer-events: none;
  }
  .rangoli-corners::before {
    top: -1px; left: -1px;
  }
  .rangoli-corners::after {
    bottom: -1px; right: -1px;
    transform: rotate(180deg);
  }
  .dark .rangoli-corners::before,
  .dark .rangoli-corners::after {
    background-image: url("data:image/svg+xml,%3Csvg width='48' height='48' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 C0 0, 24 4, 24 24' fill='none' stroke='%23e07a4f' stroke-width='1' opacity='0.3'/%3E%3Cpath d='M0 0 C4 0, 4 24, 24 24' fill='none' stroke='%23e8c462' stroke-width='1' opacity='0.25'/%3E%3Ccircle cx='4' cy='4' r='2.5' fill='%23e07a4f' opacity='0.35'/%3E%3Ccircle cx='12' cy='12' r='1.5' fill='%23e8c462' opacity='0.3'/%3E%3C/svg%3E");
  }

  /* ═══════════════════════════════════════
     SIDEBAR HERO PATTERN — large kolam motif
     Visible geometric art at top of sidebar
     ═══════════════════════════════════════ */
  .kolam-hero {
    height: 120px;
    background-color: rgba(196,98,58,0.06);
    background-image: url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3C!-- Central diamond --%3E%3Crect x='42' y='42' width='36' height='36' rx='2' fill='none' stroke='%23c4623a' stroke-width='1.5' opacity='0.2' transform='rotate(45 60 60)'/%3E%3C!-- Outer diamond --%3E%3Crect x='30' y='30' width='60' height='60' rx='2' fill='none' stroke='%23d4a843' stroke-width='1' opacity='0.15' transform='rotate(45 60 60)'/%3E%3C!-- Corner dots --%3E%3Ccircle cx='60' cy='18' r='3' fill='%23c4623a' opacity='0.25'/%3E%3Ccircle cx='60' cy='102' r='3' fill='%23c4623a' opacity='0.25'/%3E%3Ccircle cx='18' cy='60' r='3' fill='%23c4623a' opacity='0.25'/%3E%3Ccircle cx='102' cy='60' r='3' fill='%23c4623a' opacity='0.25'/%3E%3C!-- Center dot --%3E%3Ccircle cx='60' cy='60' r='4' fill='%23d4a843' opacity='0.3'/%3E%3C!-- Curves --%3E%3Cpath d='M60 18 Q85 35, 102 60' fill='none' stroke='%23c4623a' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M102 60 Q85 85, 60 102' fill='none' stroke='%23c4623a' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M60 102 Q35 85, 18 60' fill='none' stroke='%23c4623a' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M18 60 Q35 35, 60 18' fill='none' stroke='%23c4623a' stroke-width='0.8' opacity='0.15'/%3E%3C!-- Petal arcs --%3E%3Cpath d='M60 30 Q75 45, 60 60' fill='none' stroke='%23d4a843' stroke-width='0.8' opacity='0.2'/%3E%3Cpath d='M60 60 Q75 75, 60 90' fill='none' stroke='%23d4a843' stroke-width='0.8' opacity='0.2'/%3E%3Cpath d='M30 60 Q45 45, 60 60' fill='none' stroke='%23d4a843' stroke-width='0.8' opacity='0.2'/%3E%3Cpath d='M60 60 Q45 75, 30 60' fill='none' stroke='%23d4a843' stroke-width='0.8' opacity='0.2'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 120px 120px;
    border-bottom: 1px solid rgba(196,98,58,0.15);
  }
  .dark .kolam-hero {
    background-color: rgba(224,122,79,0.04);
    background-image: url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='42' y='42' width='36' height='36' rx='2' fill='none' stroke='%23e07a4f' stroke-width='1.5' opacity='0.2' transform='rotate(45 60 60)'/%3E%3Crect x='30' y='30' width='60' height='60' rx='2' fill='none' stroke='%23e8c462' stroke-width='1' opacity='0.15' transform='rotate(45 60 60)'/%3E%3Ccircle cx='60' cy='18' r='3' fill='%23e07a4f' opacity='0.25'/%3E%3Ccircle cx='60' cy='102' r='3' fill='%23e07a4f' opacity='0.25'/%3E%3Ccircle cx='18' cy='60' r='3' fill='%23e07a4f' opacity='0.25'/%3E%3Ccircle cx='102' cy='60' r='3' fill='%23e07a4f' opacity='0.25'/%3E%3Ccircle cx='60' cy='60' r='4' fill='%23e8c462' opacity='0.3'/%3E%3Cpath d='M60 18 Q85 35, 102 60' fill='none' stroke='%23e07a4f' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M102 60 Q85 85, 60 102' fill='none' stroke='%23e07a4f' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M60 102 Q35 85, 18 60' fill='none' stroke='%23e07a4f' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M18 60 Q35 35, 60 18' fill='none' stroke='%23e07a4f' stroke-width='0.8' opacity='0.15'/%3E%3Cpath d='M60 30 Q75 45, 60 60' fill='none' stroke='%23e8c462' stroke-width='0.8' opacity='0.2'/%3E%3Cpath d='M60 60 Q75 75, 60 90' fill='none' stroke='%23e8c462' stroke-width='0.8' opacity='0.2'/%3E%3Cpath d='M30 60 Q45 45, 60 60' fill='none' stroke='%23e8c462' stroke-width='0.8' opacity='0.2'/%3E%3Cpath d='M60 60 Q45 75, 30 60' fill='none' stroke='%23e8c462' stroke-width='0.8' opacity='0.2'/%3E%3C/svg%3E");
    border-bottom-color: rgba(224,122,79,0.1);
  }

  /* ═══════════════════════════════════════
     FEATURED CARD — with pattern background
     ═══════════════════════════════════════ */
  .featured-card {
    position: relative;
    border: 1px solid #e8dbc0;
    border-radius: 12px;
    padding: 2rem;
    overflow: hidden;
    transition: border-color 0.2s, box-shadow 0.2s;
    /* Subtle kolam tile background */
    background-color: #fdf9f1;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='20' y='20' width='20' height='20' rx='1' fill='none' stroke='%23c4623a' stroke-width='0.5' opacity='0.08' transform='rotate(45 30 30)'/%3E%3Ccircle cx='30' cy='30' r='1' fill='%23d4a843' opacity='0.12'/%3E%3C/svg%3E");
  }
  .featured-card:hover {
    border-color: #c4623a;
    box-shadow: 0 8px 32px rgba(196,98,58,0.12);
  }
  .dark .featured-card {
    border-color: #2a2438;
    background-color: #1e1928;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='20' y='20' width='20' height='20' rx='1' fill='none' stroke='%23e07a4f' stroke-width='0.5' opacity='0.06' transform='rotate(45 30 30)'/%3E%3Ccircle cx='30' cy='30' r='1' fill='%23e8c462' opacity='0.08'/%3E%3C/svg%3E");
  }
  .dark .featured-card:hover {
    border-color: #e07a4f;
    box-shadow: 0 8px 32px rgba(224,122,79,0.15);
  }

  /* ═══════════════════════════════════════
     POST CARD
     ═══════════════════════════════════════ */
  .post-card {
    @apply relative py-6;
    border-bottom: 1px solid #f5edd8;
  }
  .post-card:last-child { border-bottom: none; }
  .dark .post-card { border-bottom-color: #1e1928; }

  /* ═══════════════════════════════════════
     CARVED HEADING
     ═══════════════════════════════════════ */
  .carved-heading::after {
    content: '';
    display: block;
    margin-top: 12px;
    height: 3px;
    width: 48px;
    background: linear-gradient(to right, #c4623a, #d4a843);
    border-radius: 2px;
  }
  .dark .carved-heading::after {
    background: linear-gradient(to right, #e07a4f, #e8c462);
  }

  /* ═══════════════════════════════════════
     TAG
     ═══════════════════════════════════════ */
  .tag {
    @apply text-xs font-mono uppercase transition-colors duration-200;
    letter-spacing: 0.08em;
    color: #8a7d68;
  }
  .tag:hover { color: #c4623a; }
  .dark .tag { color: #a89e8e; }
  .dark .tag:hover { color: #e07a4f; }

  /* ═══════════════════════════════════════
     PAGE BACKGROUND PATTERN
     Subtle tiling rangoli on the main content area
     ═══════════════════════════════════════ */
  .page-pattern {
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='50' cy='50' r='1' fill='%23c4623a' opacity='0.04'/%3E%3Ccircle cx='0' cy='0' r='1' fill='%23d4a843' opacity='0.03'/%3E%3Ccircle cx='100' cy='0' r='1' fill='%23d4a843' opacity='0.03'/%3E%3Ccircle cx='0' cy='100' r='1' fill='%23d4a843' opacity='0.03'/%3E%3Ccircle cx='100' cy='100' r='1' fill='%23d4a843' opacity='0.03'/%3E%3C/svg%3E");
  }
  .dark .page-pattern {
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='50' cy='50' r='1' fill='%23e07a4f' opacity='0.03'/%3E%3Ccircle cx='0' cy='0' r='1' fill='%23e8c462' opacity='0.02'/%3E%3Ccircle cx='100' cy='0' r='1' fill='%23e8c462' opacity='0.02'/%3E%3Ccircle cx='0' cy='100' r='1' fill='%23e8c462' opacity='0.02'/%3E%3Ccircle cx='100' cy='100' r='1' fill='%23e8c462' opacity='0.02'/%3E%3C/svg%3E");
  }
}
